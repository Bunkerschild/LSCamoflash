# ğŸš€ LSCamoflash â€“ Free Your LSC Cam! ğŸ”“

LSCamoflash allows you to free LSC cameras from the cloud and use **local** RTSP streaming. Special thanks to [guino](https://github.com/guino/LSCOutdoor1080P), whose project served as the foundation for this modification. ğŸ™Œ

âš  **Disclaimer:** The use of this hack is **at your own risk**. I accept **no liability** for any damage to devices or persons. âš 

ğŸ” **Antivirus Warning:** Some antivirus programs, such as **Bitdefender**, falsely detect **Gen:Variant.Trojan.Linux.Specter.1** as a virus, in tcpdump. This is a **false positive**. More information can be found on [VirusTotal](https://www.virustotal.com/gui/file/2136a323071c9f1ae52b45996b8b4045827bcf666e1494579500c22bdfdda934).  

## âœ¨ Features
âœ… **Telnet server on port 24** *(Login: `root` / `LSCamoflash`)*  
âœ… **Web server on port 8080** *(e.g., for PTZ control of rotating cameras)*  
âœ… **FTP access on port 21** *(Access to the SD card)*  
âœ… **ONVIF server for camera integration** *(Support for ONVIF-compatible clients!)*  
âœ… **Firmware remains untouched** *(No permanent modification!)*  
âœ… **Configurable offline mode** *(Completely disconnects the camera from the Tuya cloud)*  
âœ… **Update function** *(Keeps the hack up to date, even for multiple cameras!)*  
âœ… **RTSP streaming** *(Currently available for only two models:)*  
   - ğŸ“Œ **PTZ Indoor Camera (1080p)**  
   - ğŸ“Œ **Static Outdoor Camera (1080p)**  
   *(Check `PATCH` to see if your camera model is supported.)*

## âš™ï¸ Technical Background
ğŸ› ï¸ The camera is tricked by an **empty file** `_ht_ap_mode.conf` into thinking it needs to start **AP mode**.  
ğŸ› ï¸ A **modified `hostapd`** then launches the actual hack.  

ğŸš« **After `hostapd` starts, the following happens:**  
ğŸ”¹ **Prevention of automatic firmware updates** to keep the security vulnerability open.  
ğŸ”¹ **Offline mode can be activated via a configuration file**, blocking any connection to the Tuya cloud.  
ğŸ”¹ **Update function** keeps the hack up to date and allows updates for multiple cameras simultaneously.  

## ğŸ”„ Workflow of init.sh and services.sh
### ğŸ **`init.sh` (Initialization Script)**
This central startup script runs directly after the camera boots up:  
1ï¸âƒ£ **Checks the SD card** *(Is it recognized? Is the filesystem correct?)*  
2ï¸âƒ£ **Sets environment variables** *(Important for later scripts)*  
3ï¸âƒ£ **Starts `services.sh`** to activate all background services.  

### âš¡ **`services.sh` (Starts services and blocks cloud connections)**
2ï¸âƒ£ **Starts the Telnet server (Port 24)** *(Login: `root` / `LSCamoflash`)*  
3ï¸âƒ£ **Activates the web server (Port 8080)** *(For PTZ camera control)*  
4ï¸âƒ£ **Starts the FTP server (Port 21)** *(Access to the SD card)*  
5ï¸âƒ£ **Starts the ONVIF server** to integrate the camera into ONVIF-compatible systems.  
6ï¸âƒ£ **Checks if offline mode is active** *(If enabled, all cloud connections are blocked!)*  
7ï¸âƒ£ **Enables future updates** *(Even for multiple cameras simultaneously!)*  

## ğŸ”® Future Plans
ğŸš§ **Planned:** Automatic **anyka_ipc** patching at camera boot, eliminating the need for a static patch!  

## ğŸ“¥ Installation
1ï¸âƒ£ Download the repository or clone it using Git.  
2ï¸âƒ£ Copy the contents of the `SDCARD` directory onto a **FAT32-formatted** SD card.  
3ï¸âƒ£ **Insert the SD card into the camera and restart it.**  
4ï¸âƒ£ Wait a few moments â€“ Telnet, FTP, ONVIF, and the web server should now be available.  

## ğŸ› ï¸ Troubleshooting
ğŸ”´ **Blue LED blinks continuously?**
   - Remove the SD card and delete the file `HACK/usr/patch/<MD5-CHECKSUM>/bin/anyka_ipc_patched`.
   - If the problem persists, also remove `anyka_ipc` from the same directory.

ğŸ”´ **RTSP or Telnet not working?**
   - Check if the file `_ht_ap_mode.conf` exists on the SD card.
   - Ensure the SD card is **formatted as FAT32**.

## ğŸ” Version Check
Verify whether the patch has been applied correctly:
```sh
md5sum /usr/bin/anyka_ipc
```
Compare the output with `SDCARD/HACK/etc/hack.conf` under `Static patch supported`.

## ğŸ› ï¸ Useful Tools
LSCamoflash includes the following additional tools:
âœ… **BusyBox (latest version) with all common applets**  
âœ… **Mosquitto_pub (MQTT client)**  
âœ… **OpenSSL for secure connections**  
âœ… **cURL with HTTPS support**  
âœ… **joe (simple text editor)**  
âœ… **SQLite3 and SQLCipher for database management**  
âœ… **strace for process monitoring and debugging**  
âœ… **tcpdump for network analysis**  

ğŸš€ **LSCamoflash is the best solution to free LSC cameras from the cloud and take full control of your devices!** ğŸ”¥

*This text was generated by AI.*

---

# ğŸš€ LSCamoflash â€“ Befreie deine LSC Cam! ğŸ”“

LSCamoflash ermÃ¶glicht es, LSC-Kameras von der Cloud zu befreien und RTSP-Streaming **lokal** zu nutzen. Ein besonderer Dank geht an [guino](https://github.com/guino/LSCOutdoor1080P), dessen Projekt als Grundlage fÃ¼r diese Modifikation diente. ğŸ™Œ

âš  **Hinweis:** Die Verwendung dieses Hacks geschieht auf **eigene Gefahr**. Ich Ã¼bernehme **keinerlei Haftung** fÃ¼r SchÃ¤den an GerÃ¤ten oder Personen. âš 

ğŸ” **Antivirenwarnung:** Einige Virenscanner, wie z. B. **Bitdefender**, erkennen fÃ¤lschlicherweise den Virus **Gen:Variant.Trojan.Linux.Specter.1** in der Datei tcpdump. Dies ist ein **False-Positive**. Weitere Informationen findest du auf [VirusTotal](https://www.virustotal.com/gui/file/2136a323071c9f1ae52b45996b8b4045827bcf666e1494579500c22bdfdda934).  

## âœ¨ Funktionen
âœ… **Telnet-Server auf Port 24** *(Login: `root` / `LSCamoflash`)*  
âœ… **Webserver auf Port 8080** *(z.B. zur PTZ-Steuerung bei schwenkbaren Kameras)*  
âœ… **FTP-Zugang auf Port 21** *(Zugriff auf die Speicherkarte)*  
âœ… **ONVIF-Server zur Kamera-Integration** *(UnterstÃ¼tzung fÃ¼r ONVIF-kompatible Clients!)*  
âœ… **Firmware bleibt unangetastet** *(keine dauerhafte Modifikation!)*  
âœ… **Offline-Modus konfigurierbar** *(Kamera vollstÃ¤ndig von der Tuya-Cloud trennen)*  
âœ… **Update-Funktion** *(HÃ¤lt den Hack aktuell, auch fÃ¼r mehrere Kameras!)*  
âœ… **RTSP-Streaming** *(Derzeit nur fÃ¼r zwei Modelle verfÃ¼gbar:)*  
   - ğŸ“Œ **PTZ Indoor Kamera (1080p)**  
   - ğŸ“Œ **Statische AuÃŸenkamera (1080p)**  
   *(Siehe `PATCH`, um zu prÃ¼fen, ob dein Kameramodell unterstÃ¼tzt wird.)*

## âš™ï¸ Technischer Hintergrund
ğŸ› ï¸ Die Kamera wird durch eine **leere Datei** `_ht_ap_mode.conf` getÃ¤uscht, dass sie den **AP-Modus** starten muss.  
ğŸ› ï¸ Eine **manipulierte `hostapd`** startet daraufhin den eigentlichen Hack.  

ğŸš« **Nach dem Start von `hostapd` passiert folgendes:**  
ğŸ”¹ **Verhinderung automatischer Firmware-Updates**, um die SicherheitslÃ¼cke offen zu halten.  
ğŸ”¹ **Offline-Modus kann per Konfigurationsdatei aktiviert werden**, sodass keine Tuya-Cloud-Verbindung mehr mÃ¶glich ist.  
ğŸ”¹ **Update-Funktion**, um den Hack aktuell zu halten und mehrere Kameras gleichzeitig zu aktualisieren.  

## ğŸ”„ Ablauf von init.sh und services.sh
### ğŸ **`init.sh` (Initialisierungsskript)**
Das zentrale Startskript, das direkt nach dem Booten der Kamera ausgefÃ¼hrt wird:  
1ï¸âƒ£ **ÃœberprÃ¼fung der SD-Karte** *(wird sie erkannt? Ist das Dateisystem korrekt?)*  
2ï¸âƒ£ **Setzen der Umgebungsvariablen** *(wichtig fÃ¼r spÃ¤tere Skripte)*  
3ï¸âƒ£ **Start von `services.sh`**, um alle Hintergrunddienste zu aktivieren.  

### âš¡ **`services.sh` (Startet Dienste und blockiert Cloud-Verbindungen)**
2ï¸âƒ£ **Startet den Telnet-Server (Port 24)** *(Login: `root` / `LSCamoflash`)*  
3ï¸âƒ£ **Aktiviert den Webserver (Port 8080)** *(Steuerung fÃ¼r PTZ-Kameras)*  
4ï¸âƒ£ **Startet den FTP-Server (Port 21)** *(Zugriff auf die SD-Karte)*  
5ï¸âƒ£ **Startet den ONVIF-Server**, um die Kamera in ONVIF-kompatible Systeme zu integrieren.  
6ï¸âƒ£ **PrÃ¼ft, ob der Offline-Modus aktiv ist** *(falls ja, wird jede Verbindung zur Cloud blockiert!)*  
7ï¸âƒ£ **ErmÃ¶glicht zukÃ¼nftige Updates** *(auch fÃ¼r mehrere Kameras gleichzeitig!)*  

## ğŸ”® ZukunftsplÃ¤ne
ğŸš§ **Geplant:** Automatische **anyka_ipc**-Patches beim Booten der Kamera, sodass kein statischer Patch mehr nÃ¶tig ist!  

## ğŸ“¥ Installation
1ï¸âƒ£ Lade das Repository herunter oder klone es mit Git.  
2ï¸âƒ£ Kopiere den Inhalt des `SDCARD`-Verzeichnisses auf eine **FAT32-formatierte** SD-Karte.  
3ï¸âƒ£ **Setze die SD-Karte in die Kamera ein und starte sie neu.**  
4ï¸âƒ£ Warte einige Momente â€“ danach sollten Telnet, FTP, ONVIF und der Webserver verfÃ¼gbar sein.  

## ğŸ› ï¸ Fehlerbehebung
ğŸ”´ **Blaue LED blinkt dauerhaft?**
   - SD-Karte entfernen und Datei `HACK/usr/patch/<MD5-CHECKSUM>/bin/anyka_ipc_patched` lÃ¶schen.
   - Falls das Problem weiterhin besteht, auch `anyka_ipc` entfernen.

ğŸ”´ **RTSP oder Telnet funktionieren nicht?**
   - PrÃ¼fen, ob die Datei `_ht_ap_mode.conf` auf der SD-Karte existiert.
   - Sicherstellen, dass die SD-Karte **FAT32-formatiert** ist.

## ğŸ” VersionsprÃ¼fung
ÃœberprÃ¼fen, ob der Patch korrekt angewendet wurde:
```sh
md5sum /usr/bin/anyka_ipc
```
Vergleiche die Ausgabe mit `SDCARD/HACK/etc/hack.conf` unter `Static patch supported`.

## ğŸ› ï¸ NÃ¼tzliche Tools
LSCamoflash enthÃ¤lt folgende zusÃ¤tzliche Werkzeuge:
âœ… **BusyBox (aktuelle Version) mit allen gÃ¤ngigen Applets**  
âœ… **Mosquitto_pub (MQTT Client)**  
âœ… **OpenSSL fÃ¼r sichere Verbindungen**  
âœ… **cURL mit HTTPS-UnterstÃ¼tzung**  
âœ… **joe (einfacher Texteditor)**  
âœ… **SQLite3 und SQLCipher fÃ¼r Datenbankmanagement**  
âœ… **strace zur ProzessÃ¼berwachung und Fehlersuche**  
âœ… **tcpdump zur Netzwerkanalyse**  

ğŸš€ **LSCamoflash ist die beste LÃ¶sung, um LSC-Kameras von der Cloud zu befreien und volle Kontrolle Ã¼ber deine GerÃ¤te zu erhalten!** ğŸ”¥

*Dieser Text wurde KI-generiert.*
